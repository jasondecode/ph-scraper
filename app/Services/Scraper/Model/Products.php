<?php
namespace App\Services\Scraper\Model;

use Illuminate\Database\Eloquent\Model;

class Products extends Model
{
    /** @var array */
    private $homepageRequestBody = [
        "operationName" => "HomePage",
        "variables" => [
            "cursor" => "",
            "featured" => true,
            "includePromotedPost" => false,
            "page" => "home",
            "includeLayout" => false
        ],
        "query" => 'query HomePage($cursor: String, $featured: Boolean!, $includePromotedPost: Boolean!, $page: String) { sections(first: 1, after: $cursor, featured: $featured) { edges { node { id date cutoff_index cards(first: 1, after: $cursor, kind: FEED, page: $page) { edges { node { ...FeedCards __typename } __typename } __typename } posts { edges { node { ...PostItemList ...PostCache __typename } __typename } __typename } __typename } __typename } pageInfo { endCursor hasNextPage __typename } __typename } promoted_post @include(if: $includePromotedPost) { id ...PromotedPostItem __typename } daily_newsletter { id subject __typename } viewer { id email has_newsletter_subscription __typename }}fragment FeedCards on Card { ...AskProductHuntCard ...FeedUpcomingPagesCard ...NewPostsCard ...BestProductsFromLastWeekCard ...MakersDiscussionCardFragment ...EmailSubscribeCard __typename}fragment AskProductHuntCard on AskProductHuntCard { is_dismissed product_request { _id id ...ProductRequestItem __typename } __typename}fragment ProductRequestItem on ProductRequest { _id id body_html created_at is_advice path recommended_products_count title recommended_products(first: 3, filter: FEATURED, order: VOTES) { edges { node { _id id ...ProductRequestItemRecommendedProduct __typename } __typename } __typename } user { _id id ...UserSpotlight __typename } ... on Commentable { _id id comments_count __typename } ...ProductRequestFollowButton ...ProductRequestItemModerationInfo ...ProductRequestMenuButton ...ProductRequestShareButton ...TopicFollowButtonList __typename}fragment ProductRequestItemModerationInfo on ProductRequest { _id id featured_at related_product_requests_count seo_description seo_title __typename}fragment ProductRequestItemRecommendedProduct on RecommendedProduct { _id id product { id posts(first: 1, filter: FEATURED) { edges { node { _id id name path slug tagline __typename } __typename } __typename } thumbnail_media { id ...MediaThumbnail __typename } __typename } ...RecommendedProductVoteButton __typename}fragment MediaThumbnail on Media { id image_uuid __typename}fragment RecommendedProductVoteButton on RecommendedProduct { _id id ... on Votable { _id id has_voted votes_count __typename } __typename}fragment TopicFollowButtonList on Topicable { id topics { edges { node { id ...TopicFollowButton __typename } __typename } __typename } __typename}fragment TopicFollowButton on Topic { id slug name isFollowed ...TopicImage __typename}fragment TopicImage on Topic { name image_uuid __typename}fragment UserSpotlight on User { _id id headline name username ...UserImageLink __typename}fragment UserImageLink on User { id _id name username ...UserImage __typename}fragment UserImage on User { id post_upvote_streak name __typename}fragment ProductRequestFollowButton on ProductRequest { _id id has_followed __typename}fragment ProductRequestMenuButton on ProductRequest { _id id can_destroy can_edit path __typename}fragment ProductRequestShareButton on ProductRequest { _id id ...FacebookShare __typename}fragment FacebookShare on Shareable { _id id url __typename}fragment NewPostsCard on NewPostsCard { is_dismissed kind posts { ...PostItemList __typename } __typename}fragment PostItemList on Post { id ...PostItem __typename}fragment PostItem on Post { id _id comments_count name shortened_url slug tagline updated_at ...CollectButton ...PostThumbnail ...PostVoteButton ...TopicFollowButtonList __typename}fragment CollectButton on Post { id name isCollected __typename}fragment PostThumbnail on Post { id name thumbnail { id media_type ...MediaThumbnail __typename } ...PostStatusIcons __typename}fragment PostStatusIcons on Post { name product_state __typename}fragment PostVoteButton on Post { _id id featured_at updated_at disabled_when_scheduled has_voted ... on Votable { id votes_count __typename } __typename}fragment BestProductsFromLastWeekCard on BestProductsFromLastWeekCard { posts { ...PostItemList ...PostCache __typename } __typename}fragment PostCache on Post { _id can_manage id name tagline trashed_at ...PostStatusIcons ...PostThumbnail ...PostVoteButton ...TopicFollowButtonList __typename}fragment FeedUpcomingPagesCard on UpcomingPagesCard { is_dismissed upcoming_pages { ...UpcomingPageItem __typename } __typename}fragment UpcomingPageItem on UpcomingPage { id name tagline slug background_image_uuid thumbnail_uuid logo_uuid subscriber_count popular_subscribers { id twitter_username ...UserSpotlight __typename } ...UpcomingPageSubscribeButton __typename}fragment UpcomingPageSubscribeButton on UpcomingPage { id is_subscribed __typename}fragment MakersDiscussionCardFragment on MakersDiscussionCard { isDismissed discussion { _id id ...DiscussionThreadListItem __typename } __typename}fragment DiscussionThreadListItem on DiscussionThread { _id id title description descriptionHtml slug commentsCount can_comment: canComment discussionPath canEdit votesCount hasVoted createdAt poll { ...PollFragment __typename } user { id name username headline __typename } __typename}fragment PollFragment on Poll { id answersCount hasAnswered options { id text imageUuid answersCount answersPercent hasAnswered __typename } __typename}fragment EmailSubscribeCard on EmailSubscribeCard { is_dismissed viewer { id email has_newsletter_subscription __typename } newsletter { id subject __typename } __typename}fragment PromotedPostItem on PromotedPost { id deal post { id ...PostItem __typename } ...ViewableImpressionSubject __typename}fragment ViewableImpressionSubject on Node { id __typename}'
    ];

    public function getHomepageRequestBody(): array
    {
        return $this->homepageRequestBody;
    }
}
